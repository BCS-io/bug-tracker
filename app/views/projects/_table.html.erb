
<table id="projects-table"
       class="table-fixed w-full text-left whitespace-no-wrap">
  <thead>
    <tr>
      <th class="w-4/12 px-4 title-font tracking-wider font-medium text-gray-300 bg-gray-800 rounded-tl rounded-bl">
        <button
           data-reflex="click->TabularReflex#order"
           data-reflex-root="#projects-table"
           data-column-name="name"
           data-direction=<%= direction(sort) %>>
           Name <span class="pl-1 font-bold"> <%= arrow :name, order_by, sort: sort %></span>
        </button>
      </th>
      <th class="w-3/12 px-4 title-font tracking-wider font-medium text-gray-300 bg-gray-800">
        <button
           data-reflex="click->TabularReflex#order"
           data-reflex-root="#projects-table"
           data-column-name="key"
           data-direction=<%= direction(sort) %>>
           Key <span class="pl-1 font-bold"><%= arrow :key, order_by, sort: sort %></span>
        </button>
      </th>
      <th class="w-3/12 px-4 title-font tracking-wider font-medium text-gray-300 bg-gray-800">
        <button
           data-reflex="click->TabularReflex#order"
           data-reflex-root="#projects-table"
           data-column-name="lead"
           data-direction=<%= direction(sort) %>>
           Lead <span class="pl-1 font-bold"><%= arrow :lead, order_by, sort: sort %></span>
        </button>
      </th>
      <th class="w-1/12 px-4 title-font tracking-wider font-medium text-gray-300 bg-gray-800">
        Edit
      </th>
      <th class="w-1/12 px-4 title-font tracking-wider font-medium text-gray-300 bg-gray-800">
        Del
      </th>
    </tr>
  </thead>
  <tbody>
    <% projects.each_with_index do |project, index| %>
      <tr>
        <td class="px-4 py-2"><%= project.name %></td>
        <td class="px-4 py-2"><%= project.key %></td>
        <td class="px-4 py-2"><%= project.username %></td>
        <td id="<%= "edit-project-#{index}" %>" class="px-4 py-2">
          <% if policy(project).update? %>
            <%= link_to edit_project_path(project) do
              render_svg "pencil", styles: "h-6 text-gray-600 hover:text-white"
            end %>
          <% end %>
        </td>
        <td id="<%= "destroy-project-#{index}" %>" class="px-4 py-2 ">
          <% if policy(project).destroy? %>
            <%= link_to project, method: :delete, data: { confirm: 'Are you sure?' } do
              render_svg "trash", styles: "h-6 text-gray-600 hover:text-white"
            end %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

